<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>ham-fisted.api documentation</title><script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-XJYNJF48RM"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XJYNJF48RM');</script><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Ham-Fisted</span> <span class="project-version">1.000-beta-56</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="Reductions.html"><div class="inner"><span>Reductions</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ham-fisted</span></div></div></li><li class="depth-2 branch current"><a href="ham-fisted.api.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>api</span></div></a></li><li class="depth-2 branch"><a href="ham-fisted.lazy-noncaching.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lazy-noncaching</span></div></a></li><li class="depth-2 branch"><a href="ham-fisted.protocols.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocols</span></div></a></li><li class="depth-2"><a href="ham-fisted.set.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>set</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="ham-fisted.api.html#var--.3Ebi-function"><div class="inner"><span>-&gt;bi-function</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var--.3Ecollection"><div class="inner"><span>-&gt;collection</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var--.3Econsumer"><div class="inner"><span>-&gt;consumer</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var--.3Efunction"><div class="inner"><span>-&gt;function</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var--.3Erandom-access"><div class="inner"><span>-&gt;random-access</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var--.3Ereducible"><div class="inner"><span>-&gt;reducible</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-add-all.21"><div class="inner"><span>add-all!</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-argsort"><div class="inner"><span>argsort</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-array-list"><div class="inner"><span>array-list</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-assoc"><div class="inner"><span>assoc</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-assoc.21"><div class="inner"><span>assoc!</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-assoc-in"><div class="inner"><span>assoc-in</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-bi-function"><div class="inner"><span>bi-function</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-binary-operator"><div class="inner"><span>binary-operator</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-binary-search"><div class="inner"><span>binary-search</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-boolean-array"><div class="inner"><span>boolean-array</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-boolean-array-list"><div class="inner"><span>boolean-array-list</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-byte-array"><div class="inner"><span>byte-array</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-byte-array-list"><div class="inner"><span>byte-array-list</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-char-array"><div class="inner"><span>char-array</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-char-array-list"><div class="inner"><span>char-array-list</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-clear.21"><div class="inner"><span>clear!</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-clear-memoized-fn.21"><div class="inner"><span>clear-memoized-fn!</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-comp-nan-first"><div class="inner"><span>comp-nan-first</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-comp-nan-last"><div class="inner"><span>comp-nan-last</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-compose-reducers"><div class="inner"><span>compose-reducers</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-compute.21"><div class="inner"><span>compute!</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-compute-if-absent.21"><div class="inner"><span>compute-if-absent!</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-compute-if-present.21"><div class="inner"><span>compute-if-present!</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-concata"><div class="inner"><span>concata</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-concatv"><div class="inner"><span>concatv</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-conj.21"><div class="inner"><span>conj!</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-constant-count"><div class="inner"><span>constant-count</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-constant-countable.3F"><div class="inner"><span>constant-countable?</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-consume.21"><div class="inner"><span>consume!</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-consumer"><div class="inner"><span>consumer</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-consumer-accumulator"><div class="inner"><span>consumer-accumulator</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-consumer-preducer"><div class="inner"><span>consumer-preducer</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-darange"><div class="inner"><span>darange</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-default-hash-provider"><div class="inner"><span>default-hash-provider</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-difference"><div class="inner"><span>difference</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-double-accumulator"><div class="inner"><span>double-accumulator</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-double-array"><div class="inner"><span>double-array</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-double-array-list"><div class="inner"><span>double-array-list</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-double-binary-operator"><div class="inner"><span>double-binary-operator</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-double-consumer"><div class="inner"><span>double-consumer</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-double-consumer-accumulator"><div class="inner"><span>double-consumer-accumulator</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-double-consumer-preducer"><div class="inner"><span>double-consumer-preducer</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-double-predicate"><div class="inner"><span>double-predicate</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-double-to-long-function"><div class="inner"><span>double-to-long-function</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-double-unary-operator"><div class="inner"><span>double-unary-operator</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-drop"><div class="inner"><span>drop</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-drop-last"><div class="inner"><span>drop-last</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-drop-min"><div class="inner"><span>drop-min</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-dvec"><div class="inner"><span>dvec</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-empty-map"><div class="inner"><span>empty-map</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-empty-set"><div class="inner"><span>empty-set</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-empty-vec"><div class="inner"><span>empty-vec</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-empty.3F"><div class="inner"><span>empty?</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-equal-hash-provider"><div class="inner"><span>equal-hash-provider</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-equiv-hash-provider"><div class="inner"><span>equiv-hash-provider</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-filterv"><div class="inner"><span>filterv</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-first"><div class="inner"><span>first</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-float-array"><div class="inner"><span>float-array</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-float-array-list"><div class="inner"><span>float-array-list</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-frequencies"><div class="inner"><span>frequencies</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-frequencies-gbr-consumer"><div class="inner"><span>frequencies-gbr-consumer</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-frequencies-gbr-inc"><div class="inner"><span>frequencies-gbr-inc</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-function"><div class="inner"><span>function</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-fvec"><div class="inner"><span>fvec</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-get-in"><div class="inner"><span>get-in</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-group-by"><div class="inner"><span>group-by</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-group-by-reduce"><div class="inner"><span>group-by-reduce</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-group-by-reducer"><div class="inner"><span>group-by-reducer</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-hash-map"><div class="inner"><span>hash-map</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-hybrid-hash-provider"><div class="inner"><span>hybrid-hash-provider</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-iarange"><div class="inner"><span>iarange</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-immut-list"><div class="inner"><span>immut-list</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-immut-map"><div class="inner"><span>immut-map</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-immut-set"><div class="inner"><span>immut-set</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-in-fork-join-task.3F"><div class="inner"><span>in-fork-join-task?</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-indexed-accum"><div class="inner"><span>indexed-accum</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-indexed-double-accum"><div class="inner"><span>indexed-double-accum</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-indexed-long-accum"><div class="inner"><span>indexed-long-accum</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-int-array"><div class="inner"><span>int-array</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-int-array-list"><div class="inner"><span>int-array-list</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-intersection"><div class="inner"><span>intersection</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-into"><div class="inner"><span>into</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-into-array"><div class="inner"><span>into-array</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-ivec"><div class="inner"><span>ivec</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-java-concurrent-hashmap"><div class="inner"><span>java-concurrent-hashmap</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-java-hashmap"><div class="inner"><span>java-hashmap</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-java-hashset"><div class="inner"><span>java-hashset</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-keys"><div class="inner"><span>keys</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-larange"><div class="inner"><span>larange</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-last"><div class="inner"><span>last</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-long-accumulator"><div class="inner"><span>long-accumulator</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-long-array"><div class="inner"><span>long-array</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-long-array-list"><div class="inner"><span>long-array-list</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-long-binary-operator"><div class="inner"><span>long-binary-operator</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-long-consumer"><div class="inner"><span>long-consumer</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-long-consumer-accumulator"><div class="inner"><span>long-consumer-accumulator</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-long-predicate"><div class="inner"><span>long-predicate</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-long-to-double-function"><div class="inner"><span>long-to-double-function</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-long-unary-operator"><div class="inner"><span>long-unary-operator</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-lvec"><div class="inner"><span>lvec</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-make-comparator"><div class="inner"><span>make-comparator</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-make-double-comparator"><div class="inner"><span>make-double-comparator</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-make-long-comparator"><div class="inner"><span>make-long-comparator</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-map-factory"><div class="inner"><span>map-factory</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-map-intersection"><div class="inner"><span>map-intersection</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-map-keyset"><div class="inner"><span>map-keyset</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-map-union"><div class="inner"><span>map-union</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-map-union-java-hashmap"><div class="inner"><span>map-union-java-hashmap</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-map-values"><div class="inner"><span>map-values</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-mapmap"><div class="inner"><span>mapmap</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-mapv"><div class="inner"><span>mapv</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-mean"><div class="inner"><span>mean</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-memoize"><div class="inner"><span>memoize</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-merge"><div class="inner"><span>merge</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-merge-with"><div class="inner"><span>merge-with</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-mut-list"><div class="inner"><span>mut-list</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-mut-map"><div class="inner"><span>mut-map</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-mut-set"><div class="inner"><span>mut-set</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-obj-ary"><div class="inner"><span>obj-ary</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-object-array"><div class="inner"><span>object-array</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-object-array-list"><div class="inner"><span>object-array-list</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-persistent.21"><div class="inner"><span>persistent!</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-pgroups"><div class="inner"><span>pgroups</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-pmap"><div class="inner"><span>pmap</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-predicate"><div class="inner"><span>predicate</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-preduce"><div class="inner"><span>preduce</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-preduce-reducer"><div class="inner"><span>preduce-reducer</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-preduce-reducers"><div class="inner"><span>preduce-reducers</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-range"><div class="inner"><span>range</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-rcomp"><div class="inner"><span>rcomp</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-reduce-put-map"><div class="inner"><span>reduce-put-map</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-reduce-reducer"><div class="inner"><span>reduce-reducer</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-reduce-reducers"><div class="inner"><span>reduce-reducers</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-reducer-.3Ecompletef"><div class="inner"><span>reducer-&gt;completef</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-reducer-.3Erf"><div class="inner"><span>reducer-&gt;rf</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-reducer-xform-.3Ereducer"><div class="inner"><span>reducer-xform-&gt;reducer</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-reducible-merge"><div class="inner"><span>reducible-merge</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-reindex"><div class="inner"><span>reindex</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-repeat"><div class="inner"><span>repeat</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-rest"><div class="inner"><span>rest</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-reverse"><div class="inner"><span>reverse</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-short-array"><div class="inner"><span>short-array</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-short-array-list"><div class="inner"><span>short-array-list</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-shuffle"><div class="inner"><span>shuffle</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-sort"><div class="inner"><span>sort</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-sort-by"><div class="inner"><span>sort-by</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-sorta"><div class="inner"><span>sorta</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-splice"><div class="inner"><span>splice</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-subvec"><div class="inner"><span>subvec</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-sum"><div class="inner"><span>sum</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-sum-fast"><div class="inner"><span>sum-fast</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-sum-stable-nelems"><div class="inner"><span>sum-stable-nelems</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-take"><div class="inner"><span>take</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-take-last"><div class="inner"><span>take-last</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-take-min"><div class="inner"><span>take-min</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-to-double-function"><div class="inner"><span>to-double-function</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-to-long-function"><div class="inner"><span>to-long-function</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-type-single-arg-ifn"><div class="inner"><span>type-single-arg-ifn</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-unary-operator"><div class="inner"><span>unary-operator</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-union"><div class="inner"><span>union</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-union-reduce-java-hashmap"><div class="inner"><span>union-reduce-java-hashmap</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-union-reduce-maps"><div class="inner"><span>union-reduce-maps</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-update"><div class="inner"><span>update</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-update-in"><div class="inner"><span>update-in</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-update-values"><div class="inner"><span>update-values</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-upgroups"><div class="inner"><span>upgroups</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-upmap"><div class="inner"><span>upmap</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-vals"><div class="inner"><span>vals</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-vec"><div class="inner"><span>vec</span></div></a></li><li class="depth-1"><a href="ham-fisted.api.html#var-vector"><div class="inner"><span>vector</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">ham-fisted.api</h1><div class="doc"><div class="markdown"><p>Fast mutable and immutable associative data structures based on bitmap trie
hashmaps. Mutable pathways implement the <code>java.util.Map</code> or <code>Set</code> interfaces
including in-place update features such as compute or computeIfPresent.</p>
<p>Mutable maps or sets can be turned into their immutable counterparts via the
Clojure <code>persistent!</code> call. This allows working in a mutable space for
convenience and performance then switching to an immutable pathway when
necessary. Note: after <code>persistent!</code> one should never backdoor mutate map or
set again as this will break the contract of immutability.  Immutable
data structures also support conversion to transient via <code>transient</code>.</p>
<p>Map keysets (<code>.keySet</code>) are full <code>PersistentHashSet</code>s of keys.</p>
<p>Maps and sets support metadata but setting the metadata on mutable objects
returns a new mutable object that shares the backing store leading to possible
issues. Metadata is transferred to the persistent versions of the
mutable/transient objects upon <code>persistent!</code>.</p>
<p>Very fast versions of union, difference and intersection are provided for maps
and sets with the map version of union and difference requiring an extra
argument, a <code>java.util.BiFunction</code> or an <code>IFn</code> taking 2 arguments to merge the
left and right sides into the final map. These implementations of union,
difference, and intersection are the fastest implementation of these
operations we know of on the JVM.</p>
<p>Additionally a fast value update pathway is provided, enabling quickly
updating all the values in a given map. Additionally, a new map primitive</p>
<ul>
<li><a href="ham-fisted.api.html#var-mapmap">mapmap</a> - allows transforming a given map into a new map quickly by
mapping across all the entries.</li>
</ul>
<p>Unlike the standard Java objects, mutation-via-iterator is not supported.</p>
</div></div><div class="public anchor" id="var--.3Ebi-function"><h3>-&gt;bi-function</h3><div class="usage"><code>(-&gt;bi-function cljfn)</code></div><div class="doc"><div class="markdown"><p>Convert an object to a java.util.BiFunction. Object can either already be a
bi-function or an IFn to be invoked with 2 arguments.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L811">view source</a></div></div><div class="public anchor" id="var--.3Ecollection"><h3>-&gt;collection</h3><div class="usage"><code>(-&gt;collection item)</code></div><div class="doc"><div class="markdown"><p>Ensure item is an implementation of java.util.Collection.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L103">view source</a></div></div><div class="public anchor" id="var--.3Econsumer"><h3>-&gt;consumer</h3><div class="usage"><code>(-&gt;consumer cfn)</code></div><div class="doc"><div class="markdown"><p>Return an instance of a consumer, double consumer, or long consumer.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2608">view source</a></div></div><div class="public anchor" id="var--.3Efunction"><h3>-&gt;function</h3><div class="usage"><code>(-&gt;function cljfn)</code></div><div class="doc"><div class="markdown"><p>Convert an object to a java Function. Object can either already be a
Function or an IFn to be invoked.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L855">view source</a></div></div><div class="public anchor" id="var--.3Erandom-access"><h3>-&gt;random-access</h3><div class="usage"><code>(-&gt;random-access item)</code></div><div class="doc"><div class="markdown"><p>Ensure item is derived from java.util.List and java.util.RandomAccess and
thus supports constant time random addressing.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L109">view source</a></div></div><div class="public anchor" id="var--.3Ereducible"><h3>-&gt;reducible</h3><div class="usage"><code>(-&gt;reducible item)</code></div><div class="doc"><div class="markdown"><p>Ensure item either implements IReduceInit or java.util.Collection.  For arrays
this will return an object that has a much more efficient reduction pathway
than the base Clojure reducer.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L116">view source</a></div></div><div class="public anchor" id="var-add-all.21"><h3>add-all!</h3><div class="usage"><code>(add-all! l1 l2)</code></div><div class="doc"><div class="markdown"><p>Add all items from l2 to l1.  l1 is expected to be a java.util.List implementation.
Returns l1.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L795">view source</a></div></div><div class="public anchor" id="var-argsort"><h3>argsort</h3><div class="usage"><code>(argsort comp coll)</code><code>(argsort coll)</code></div><div class="doc"><div class="markdown"><p>Sort a collection of data returning an array of indexes.  The collection must be
random access and the return value is an integer array of indexes which will read the
input data in sorted order.  Faster implementations are provided when the collection
is an integer, long, or double array.  See also <a href="ham-fisted.api.html#var-reindex">reindex</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2170">view source</a></div></div><div class="public anchor" id="var-array-list"><h3>array-list</h3><div class="usage"><code>(array-list data)</code><code>(array-list)</code></div><div class="doc"><div class="markdown"><p>Create an implementation of java.util.ArrayList.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L757">view source</a></div></div><div class="public anchor" id="var-assoc"><h3>assoc</h3><div class="usage"><code>(assoc m a b)</code><code>(assoc m a b c d)</code><code>(assoc m a b c d e f)</code><code>(assoc m a b c d e f g h)</code><code>(assoc m a b c d e f g h &amp; args)</code></div><div class="doc"><div class="markdown"><p>Drop in faster or equivalent replacement for clojure.core/assoc especially for
small numbers of keyval pairs.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L180">view source</a></div></div><div class="public anchor" id="var-assoc.21"><h3>assoc!</h3><div class="usage"><code>(assoc! obj k v)</code></div><div class="doc"><div class="markdown"><p>assoc! that works on transient collections, implementations of java.util.Map and
RandomAccess java.util.List implementations.  Be sure to keep track of return value
as some implementations return a different return value than the first argument.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L763">view source</a></div></div><div class="public anchor" id="var-assoc-in"><h3>assoc-in</h3><h4 class="type">macro</h4><div class="usage"><code>(assoc-in m ks v)</code></div><div class="doc"><div class="markdown"><p>Assoc-in - more efficient replacement if ks is a known compile time constant
or a vector.  See the caveats in the README before using this exact function.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1455">view source</a></div></div><div class="public anchor" id="var-bi-function"><h3>bi-function</h3><h4 class="type">macro</h4><div class="usage"><code>(bi-function arg1 arg2 &amp; code)</code></div><div class="doc"><div class="markdown"><p>Create an implementation of java.util.function.BiFunction.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L805">view source</a></div></div><div class="public anchor" id="var-binary-operator"><h3>binary-operator</h3><h4 class="type">macro</h4><div class="usage"><code>(binary-operator arg1 arg2 &amp; code)</code></div><div class="doc"><div class="markdown"><p>Create an implementation of java.util.function.BinaryOperator</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2768">view source</a></div></div><div class="public anchor" id="var-binary-search"><h3>binary-search</h3><div class="usage"><code>(binary-search coll v)</code><code>(binary-search coll v comp)</code></div><div class="doc"><div class="markdown"><p>Binary search.  Coll must be a sorted random access container.
comp must be an implementation of java.lang.Comparator.  If you know your container's
type, such as a double array, then comp should be a fastutil DoubleComparator.</p>
<p>The most efficient method will be to convert coll to random access using
-&gt;random-access, so for a pure double array it is slightly better to call
-&gt;random-access outside this function before the function call.</p>
<p>This search defaults to the slower java.util.Collections search using
clojure's built in <code>compare</code> - reason being that that allows you to search
for a double number in a vector of only longs.  If you want an accelerated search
you can explicitly pass in a nil comparator <em>but</em> you need to make sure that
you are searching for the rough datatype in the data - e.g. long in a byte array
or a double in a double for float array.  Searching for doubles in integer arrays
with an accelerated search will probably result in confusing results.</p>
<pre><code class="language-clojure">ham-fisted.api&gt; (def data (-&gt;random-access (double-array (range 10))))
#'ham-fisted.api/data
ham-fisted.api&gt; (binary-search data 0)
0
ham-fisted.api&gt; (binary-search data -1)
0
ham-fisted.api&gt; (binary-search data 1)
1
ham-fisted.api&gt; (binary-search data 1.1)
2
ham-fisted.api&gt; (binary-search data 10)
10
ham-fisted.api&gt; (binary-search data 11)
10
ham-fisted.api&gt; ;;be wary of datatype conversions in typed containers
ham-fisted.api&gt; (def data (-&gt;random-access (int-array (range 10))))
#'ham-fisted.api/data
ham-fisted.api&gt; (binary-search data 1)
1
ham-fisted.api&gt; (binary-search data 1.1)
  2
ham-fisted.api&gt; ;;accelerated search - flattens input to container datatype
ham-fisted.api&gt; (binary-search data 1.1 nil)
1
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2061">view source</a></div></div><div class="public anchor" id="var-boolean-array"><h3>boolean-array</h3><div class="usage"><code>(boolean-array)</code><code>(boolean-array data)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2276">view source</a></div></div><div class="public anchor" id="var-boolean-array-list"><h3>boolean-array-list</h3><div class="usage"><code>(boolean-array-list)</code><code>(boolean-array-list data)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2264">view source</a></div></div><div class="public anchor" id="var-byte-array"><h3>byte-array</h3><div class="usage"><code>(byte-array)</code><code>(byte-array data)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2219">view source</a></div></div><div class="public anchor" id="var-byte-array-list"><h3>byte-array-list</h3><div class="usage"><code>(byte-array-list)</code><code>(byte-array-list data)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2207">view source</a></div></div><div class="public anchor" id="var-char-array"><h3>char-array</h3><div class="usage"><code>(char-array)</code><code>(char-array data)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2257">view source</a></div></div><div class="public anchor" id="var-char-array-list"><h3>char-array-list</h3><div class="usage"><code>(char-array-list)</code><code>(char-array-list data)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2245">view source</a></div></div><div class="public anchor" id="var-clear.21"><h3>clear!</h3><div class="usage"><code>(clear! map-or-coll)</code></div><div class="doc"><div class="markdown"><p>Mutably clear a map, set, list or implementation of java.util.Collection.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L893">view source</a></div></div><div class="public anchor" id="var-clear-memoized-fn.21"><h3>clear-memoized-fn!</h3><div class="usage"><code>(clear-memoized-fn! memoize-fn)</code></div><div class="doc"><div class="markdown"><p>Clear a memoized function backing store.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1403">view source</a></div></div><div class="public anchor" id="var-comp-nan-first"><h3>comp-nan-first</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>A comparator that sorts null, NAN first, natural order</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1931">view source</a></div></div><div class="public anchor" id="var-comp-nan-last"><h3>comp-nan-last</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>A comparator that sorts null, NAN last, natural order</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1955">view source</a></div></div><div class="public anchor" id="var-compose-reducers"><h3>compose-reducers</h3><div class="usage"><code>(compose-reducers reducers)</code></div><div class="doc"><div class="markdown"><p>Given a map or sequence of reducers return a new reducer that produces a map or
vector of results.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L331">view source</a></div></div><div class="public anchor" id="var-compute.21"><h3>compute!</h3><div class="usage"><code>(compute! m k bfn)</code></div><div class="doc"><div class="markdown"><p>Compute a new value in a map derived from an existing value.  bfn gets passed k, v where k
may be nil.  If the function returns nil the corresponding key is removed from the map.</p>
<p>See <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#compute-K-java.util.function.BiFunction-">Map.compute</a></p>
<p>An example <code>bfn</code> for counting occurrences would be <code>#(if % (inc (long %)) 1)</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L864">view source</a></div></div><div class="public anchor" id="var-compute-if-absent.21"><h3>compute-if-absent!</h3><div class="usage"><code>(compute-if-absent! m k bfn)</code></div><div class="doc"><div class="markdown"><p>Compute a value if absent from the map.  Useful for memoize-type operations.  Must use
mutable maps.  bfn gets passed k.</p>
<p>See <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-">map.computeIfAbsent</a></p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L884">view source</a></div></div><div class="public anchor" id="var-compute-if-present.21"><h3>compute-if-present!</h3><div class="usage"><code>(compute-if-present! m k bfn)</code></div><div class="doc"><div class="markdown"><p>Compute a new value if the value already exists and is non-nil in the hashmap.  Must use
mutable maps.  bfn gets passed k, v where v is non-nil.</p>
<p>See <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfPresent-K-java.util.function.BiFunction-">Map.computeIfPresent</a></p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L875">view source</a></div></div><div class="public anchor" id="var-concata"><h3>concata</h3><div class="usage"><code>(concata)</code><code>(concata v1)</code><code>(concata v1 v2)</code><code>(concata v1 v2 &amp; args)</code></div><div class="doc"><div class="markdown"><p>non-lazily concat a set of items returning an object array.  This always returns an
object array an may return an empty array whereas concat may return nil.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1836">view source</a></div></div><div class="public anchor" id="var-concatv"><h3>concatv</h3><div class="usage"><code>(concatv)</code><code>(concatv v1)</code><code>(concatv v1 v2)</code><code>(concatv v1 v2 &amp; args)</code></div><div class="doc"><div class="markdown"><p>non-lazily concat a set of items returning a persistent vector.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1820">view source</a></div></div><div class="public anchor" id="var-conj.21"><h3>conj!</h3><div class="usage"><code>(conj! obj val)</code></div><div class="doc"><div class="markdown"><p>conj! that works on transient collections, implementations of java.util.Set and
RandomAccess java.util.List implementations.  Be sure to keep track of return value
as some implementations return a different return value than the first argument.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L779">view source</a></div></div><div class="public anchor" id="var-constant-count"><h3>constant-count</h3><div class="usage"><code>(constant-count data)</code></div><div class="doc"><div class="markdown"><p>Constant time count.  Returns nil if input doesn't have a constant time count.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L593">view source</a></div></div><div class="public anchor" id="var-constant-countable.3F"><h3>constant-countable?</h3><div class="usage"><code>(constant-countable? data)</code></div><div class="doc"><div class="markdown"><p>Return true if data has a constant time count.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L583">view source</a></div></div><div class="public anchor" id="var-consume.21"><h3>consume!</h3><div class="usage"><code>(consume! consumer coll)</code></div><div class="doc"><div class="markdown"><p>Consumer a collection.  This is simply a reduction where the return value
is ignored.</p>
<p>Returns the consumer.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2624">view source</a></div></div><div class="public anchor" id="var-consumer"><h3>consumer</h3><h4 class="type">macro</h4><div class="usage"><code>(consumer varname &amp; code)</code></div><div class="doc"><div class="markdown"><p>Create an instance of a java.util.function.Consumer</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2792">view source</a></div></div><div class="public anchor" id="var-consumer-accumulator"><h3>consumer-accumulator</h3><div class="usage"><code>(consumer-accumulator c v)</code></div><div class="doc"><div class="markdown"><p>Generic reduction function using a consumer</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2511">view source</a></div></div><div class="public anchor" id="var-consumer-preducer"><h3>consumer-preducer</h3><div class="usage"><code>(consumer-preducer constructor)</code></div><div class="doc"><div class="markdown"><p>Bind a consumer as a parallel reducer.</p>
<p>Consumer must implement java.util.function.Consumer,
ham_fisted.Reducible and clojure.lang.IDeref.</p>
<p>Returns instance of type bound.</p>
<p>See documentation for <a href="declare-double-consumer-preducer!">declare-double-consumer-preducer!</a>.</p>
<pre><code></code></pre>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2682">view source</a></div></div><div class="public anchor" id="var-darange"><h3>darange</h3><div class="usage"><code>(darange end)</code><code>(darange start end)</code><code>(darange start end step)</code></div><div class="doc"><div class="markdown"><p>Return a double array holding the values of the range.  Useing <code>-&gt;collection</code> to get
an implementation of java.util.List that supports the normal Clojure interfaces.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2142">view source</a></div></div><div class="public anchor" id="var-default-hash-provider"><h3>default-hash-provider</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Default hash provider - currently set to the hybrid hash provider.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L155">view source</a></div></div><div class="public anchor" id="var-difference"><h3>difference</h3><div class="usage"><code>(difference map1 map2)</code></div><div class="doc"><div class="markdown"><p>Take the difference of two maps (or sets) returning a new map.  Return value is a map1
(or set1) without the keys present in map2.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1065">view source</a></div></div><div class="public anchor" id="var-double-accumulator"><h3>double-accumulator</h3><h4 class="type">macro</h4><div class="usage"><code>(double-accumulator accvar varvar &amp; code)</code></div><div class="doc"><div class="markdown"><p>Type-hinted double reduction accumulator.
consumer:</p>
<pre><code class="language-clojure">  ham-fisted.api&gt; (reduce (double-accumulator acc v (+ (double acc) v))
                             0.0
                             (range 1000))
#&lt;SimpleSum@2fbcf20: 499500.0&gt;
ham-fisted.api&gt; @*1
499500.0
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2518">view source</a></div></div><div class="public anchor" id="var-double-array"><h3>double-array</h3><h4 class="type">macro</h4><div class="usage"><code>(double-array)</code><code>(double-array data)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2415">view source</a></div></div><div class="public anchor" id="var-double-array-list"><h3>double-array-list</h3><div class="usage"><code>(double-array-list)</code><code>(double-array-list cap-or-data)</code></div><div class="doc"><div class="markdown"><p>An array list that is as fast as java.util.ArrayList for add,get, etc but includes
many accelerated operations such as fill and an accelerated addAll when the src data
is an array list.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2394">view source</a></div></div><div class="public anchor" id="var-double-binary-operator"><h3>double-binary-operator</h3><h4 class="type">macro</h4><div class="usage"><code>(double-binary-operator lvar rvar &amp; code)</code></div><div class="doc"><div class="markdown"><p>Create a binary operator that is specialized for double values.  Useful to speed up
operations such as sorting or summation.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2441">view source</a></div></div><div class="public anchor" id="var-double-consumer"><h3>double-consumer</h3><h4 class="type">macro</h4><div class="usage"><code>(double-consumer varname &amp; code)</code></div><div class="doc"><div class="markdown"><p>Create an instance of a java.util.function.DoubleConsumer</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2774">view source</a></div></div><div class="public anchor" id="var-double-consumer-accumulator"><h3>double-consumer-accumulator</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Converts from a double consumer to a double reduction accumulator that returns the
consumer:</p>
<pre><code class="language-clojure">ham-fisted.api&gt; (reduce double-consumer-accumulator
                             (Sum$SimpleSum.)
                             (range 1000))
#&lt;SimpleSum@2fbcf20: 499500.0&gt;
ham-fisted.api&gt; @*1
499500.0
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2475">view source</a></div></div><div class="public anchor" id="var-double-consumer-preducer"><h3>double-consumer-preducer</h3><div class="usage"><code>(double-consumer-preducer constructor)</code></div><div class="doc"><div class="markdown"><p>Return a preducer for a double consumer.</p>
<p>Consumer must implement java.util.function.DoubleConsumer,
ham_fisted.Reducible and clojure.lang.IDeref.</p>
<pre><code class="language-clojure">user&gt; (require '[ham-fisted.api :as hamf])
nil
user&gt; (import '[java.util.function DoubleConsumer])
java.util.function.DoubleConsumer
user&gt; (import [ham_fisted Reducible])
ham_fisted.Reducible
user&gt; (import '[clojure.lang IDeref])
clojure.lang.IDeref
user&gt; (deftype MeanR [^{:unsynchronized-mutable true :tag 'double} sum
                      ^{:unsynchronized-mutable true :tag 'long} n-elems]
        DoubleConsumer
        (accept [this v] (set! sum (+ sum v)) (set! n-elems (unchecked-inc n-elems)))
        Reducible
        (reduce [this o]
          (set! sum (+ sum (.-sum ^MeanR o)))
          (set! n-elems (+ n-elems (.-n-elems ^MeanR o)))
          this)
        IDeref (deref [this] (/ sum n-elems)))
user.MeanR
user&gt; (hamf/declare-double-consumer-preducer! MeanR (MeanR. 0 0))
nil
  user&gt; (hamf/preduce-reducer (double-consumer-preducer #(MeanR. 0 0)) (hamf/range 200000))
99999.5
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2641">view source</a></div></div><div class="public anchor" id="var-double-predicate"><h3>double-predicate</h3><h4 class="type">macro</h4><div class="usage"><code>(double-predicate varname &amp; code)</code></div><div class="doc"><div class="markdown"><p>Create an implementation of java.util.Function.DoublePredicate</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2717">view source</a></div></div><div class="public anchor" id="var-double-to-long-function"><h3>double-to-long-function</h3><h4 class="type">macro</h4><div class="usage"><code>(double-to-long-function varname &amp; code)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L849">view source</a></div></div><div class="public anchor" id="var-double-unary-operator"><h3>double-unary-operator</h3><h4 class="type">macro</h4><div class="usage"><code>(double-unary-operator varname &amp; code)</code></div><div class="doc"><div class="markdown"><p>Create an implementation of java.util.function.DoubleUnaryOperator</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2726">view source</a></div></div><div class="public anchor" id="var-drop"><h3>drop</h3><div class="usage"><code>(drop n coll)</code></div><div class="doc"><div class="markdown"><p>Drop the first N items of the collection.  If item is random access, the return
value is random-access.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2946">view source</a></div></div><div class="public anchor" id="var-drop-last"><h3>drop-last</h3><div class="usage"><code>(drop-last n coll)</code></div><div class="doc"><div class="markdown"><p>Drop the last N values from a collection.  IF the input is random access,
the result will be random access.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2969">view source</a></div></div><div class="public anchor" id="var-drop-min"><h3>drop-min</h3><div class="usage"><code>(drop-min n comp values)</code><code>(drop-min n values)</code></div><div class="doc"><div class="markdown"><p>Drop the min n values of a collection.  This is not an order-preserving operation.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2957">view source</a></div></div><div class="public anchor" id="var-dvec"><h3>dvec</h3><h4 class="type">macro</h4><div class="usage"><code>(dvec)</code><code>(dvec data)</code></div><div class="doc"><div class="markdown"><p>Create a persistent-vector-compatible list backed by a double array.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2422">view source</a></div></div><div class="public anchor" id="var-empty-map"><h3>empty-map</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Constant persistent empty map</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L166">view source</a></div></div><div class="public anchor" id="var-empty-set"><h3>empty-set</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Constant persistent empty set</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L168">view source</a></div></div><div class="public anchor" id="var-empty-vec"><h3>empty-vec</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Constant persistent empty vec</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L170">view source</a></div></div><div class="public anchor" id="var-empty.3F"><h3>empty?</h3><div class="usage"><code>(empty? coll)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1797">view source</a></div></div><div class="public anchor" id="var-equal-hash-provider"><h3>equal-hash-provider</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Hash provider based on Object.hashCode and Object.equals - this is
the same pathway that <code>java.util.HashMap</code> uses and is the overall the fastest
hash provider.  Hash-based data structures based on this hash provider will be
faster to create and access but will not use the hasheq pathway. This is fine
for integer keys, strings, keywords, and symbols, but differs for objects such
as doubles, floats, and BigDecimals. This is the default hash provider.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L136">view source</a></div></div><div class="public anchor" id="var-equiv-hash-provider"><h3>equiv-hash-provider</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Hash provider based on Clojure's hasheq and equiv pathways - the
same algorithm that Clojure's persistent data structures use. This hash
provider is somewhat (&lt;2x) slower than the <a href="ham-fisted.api.html#var-equal-hash-provider">equal-hash-provider</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L131">view source</a></div></div><div class="public anchor" id="var-filterv"><h3>filterv</h3><div class="usage"><code>(filterv pred coll)</code></div><div class="doc"><div class="markdown"><p>Filter a collection into a vector.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1752">view source</a></div></div><div class="public anchor" id="var-first"><h3>first</h3><div class="usage"><code>(first coll)</code></div><div class="doc"><div class="markdown"><p>Get the first item of a collection.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2844">view source</a></div></div><div class="public anchor" id="var-float-array"><h3>float-array</h3><h4 class="type">macro</h4><div class="usage"><code>(float-array)</code><code>(float-array data)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2382">view source</a></div></div><div class="public anchor" id="var-float-array-list"><h3>float-array-list</h3><div class="usage"><code>(float-array-list)</code><code>(float-array-list data)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2364">view source</a></div></div><div class="public anchor" id="var-frequencies"><h3>frequencies</h3><div class="usage"><code>(frequencies coll)</code></div><div class="doc"><div class="markdown"><p>Faster implementation of clojure.core/frequencies.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1293">view source</a></div></div><div class="public anchor" id="var-frequencies-gbr-consumer"><h3>frequencies-gbr-consumer</h3><div class="usage"><code>(frequencies-gbr-consumer coll)</code></div><div class="doc"><div class="markdown"><p>Faster implementation of clojure.core/frequencies.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1283">view source</a></div></div><div class="public anchor" id="var-frequencies-gbr-inc"><h3>frequencies-gbr-inc</h3><div class="usage"><code>(frequencies-gbr-inc coll)</code></div><div class="doc"><div class="markdown"><p>Faster implementation of clojure.core/frequencies.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1273">view source</a></div></div><div class="public anchor" id="var-function"><h3>function</h3><h4 class="type">macro</h4><div class="usage"><code>(function arg &amp; code)</code></div><div class="doc"><div class="markdown"><p>Create a java.util.function.Function</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L821">view source</a></div></div><div class="public anchor" id="var-fvec"><h3>fvec</h3><h4 class="type">macro</h4><div class="usage"><code>(fvec)</code><code>(fvec data)</code></div><div class="doc"><div class="markdown"><p>Create a persistent-vector-compatible list backed by a float array.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2388">view source</a></div></div><div class="public anchor" id="var-get-in"><h3>get-in</h3><h4 class="type">macro</h4><div class="usage"><code>(get-in m ks default-value)</code><code>(get-in m ks)</code></div><div class="doc"><div class="markdown"><p>get-in drop-in more efficient replacement if ks is a vector especially if ks
is known at compile time.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1486">view source</a></div></div><div class="public anchor" id="var-group-by"><h3>group-by</h3><div class="usage"><code>(group-by f options coll)</code><code>(group-by f coll)</code></div><div class="doc"><div class="markdown"><p>Group items in collection by the grouping function f.  Returns persistent map of
keys to persistent vectors.</p>
<p>Options are same as <a href="ham-fisted.api.html#var-group-by-reduce">group-by-reduce</a> but this reductions defaults to an
ordered reduction.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1727">view source</a></div></div><div class="public anchor" id="var-group-by-reduce"><h3>group-by-reduce</h3><div class="usage"><code>(group-by-reduce key-fn init-val-fn rfn merge-fn options coll)</code><code>(group-by-reduce key-fn init-val-fn rfn merge-fn coll)</code></div><div class="doc"><div class="markdown"><p>Group by key. Apply the reduce-fn with the new value an the return of init-val-fn.
Merged maps due to multithreading will be merged with merge-fn in a similar way
of <a href="ham-fisted.api.html#var-preduce">preduce</a>.</p>
<p>This type of reduction can be both faster and more importantly use
less memory than a reduction of the forms:</p>
<pre><code class="language-clojure">  (-&gt;&gt; group-by map into)
  ;; or
  (-&gt;&gt; group-by mapmap)
</code></pre>
<p>Options (which are passed to <a href="ham-fisted.api.html#var-preduce">preduce</a>):</p>
<ul>
<li><code>:map-fn</code> Function which takes no arguments and must return an instance of
java.util.Map that supports <code>computeIfAbsent</code>.  Some examples:
<ul>
<li><code>(constantly (java.util.concurrent.ConcurrentHashMap. ...))</code>  Very fast update
especially in the case where the keyspace is large.</li>
<li><code>mut-map</code> - Fast merge, fast update, in-place immutable conversion via <code>persistent!</code>.</li>
<li><code>java-hashmap</code> - fast merge, fast update, just a simple java.util.HashMap-based reduction.</li>
<li><code>#(LinkedHashMap.)</code> - When used with options {:ordered? true} the result keys will be
in order <em>and</em> the result values will be reduced in order.</li>
</ul>
</li>
</ul>
<p>Beware that nil keys are not allowed in any java.util-based map.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1637">view source</a></div></div><div class="public anchor" id="var-group-by-reducer"><h3>group-by-reducer</h3><div class="usage"><code>(group-by-reducer key-fn reducer coll)</code><code>(group-by-reducer key-fn reducer options coll)</code></div><div class="doc"><div class="markdown"><p>Perform a group-by-reduce passing in a reducer.  Same options as group-by-reduce.</p>
<p>Options:</p>
<ul>
<li><code>:skip-finalize?</code> - skip finalization step.</li>
</ul>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1707">view source</a></div></div><div class="public anchor" id="var-hash-map"><h3>hash-map</h3><div class="usage"><code>(hash-map)</code><code>(hash-map a b)</code><code>(hash-map a b c d)</code><code>(hash-map a b c d e f)</code><code>(hash-map a b c d e f g h)</code><code>(hash-map a b c d e f g h i j)</code><code>(hash-map a b c d e f g h i j k l)</code><code>(hash-map a b c d e f g h i j k l m n)</code><code>(hash-map a b c d e f g h i j k l m n o p)</code><code>(hash-map a b c d e f g h i j k l m n o p &amp; args)</code></div><div class="doc"><div class="markdown"><p>Drop-in replacement to Clojure's hash-map function.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L646">view source</a></div></div><div class="public anchor" id="var-hybrid-hash-provider"><h3>hybrid-hash-provider</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Hash provider opportunistically using IHashEq pathway when provided else
falling back to mixhash(obj.hashCode).  For equality strictly uses Util.equiv as equality
has not shown up to be a profiler bottleneck while generating mumur3 compatible hashes has in
some cases (integers).  This hash provider provides a middle ground offering more performance
for simple datatypes but still using the more robust equiv pathways for more complex datatypes.
This is currently the default hash provider for the library.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L145">view source</a></div></div><div class="public anchor" id="var-iarange"><h3>iarange</h3><div class="usage"><code>(iarange end)</code><code>(iarange start end)</code><code>(iarange start end step)</code></div><div class="doc"><div class="markdown"><p>Return an integer array holding the values of the range.  Use <code>-&gt;collection</code> to get a
list implementation wrapping for generic access.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2122">view source</a></div></div><div class="public anchor" id="var-immut-list"><h3>immut-list</h3><div class="usage"><code>(immut-list)</code><code>(immut-list data)</code></div><div class="doc"><div class="markdown"><p>Create a persistent list.  Object arrays will be treated as if this new object owns them.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L744">view source</a></div></div><div class="public anchor" id="var-immut-map"><h3>immut-map</h3><div class="usage"><code>(immut-map)</code><code>(immut-map data)</code><code>(immut-map options data)</code></div><div class="doc"><div class="markdown"><p>Create an immutable map.  This object supports conversion to a transient map via
Clojure's <code>transient</code> function.  Duplicate keys are treated as if by assoc.</p>
<p>If data is an object array it is treated as a flat key-value list which is distinctly
different than how conj! treats object arrays.  You have been warned.</p>
<p>If you know you will have consistently more key/val pairs than 8 you should just
use <code>(persistent! (mut-map data))</code> as that avoids the transition from an arraymap
to a persistent hashmap.</p>
<p>Options:</p>
<ul>
<li><code>:hash-provider</code> - An implementation of <code>BitmapTrieCommon$HashProvider</code>.  Defaults to
the <a href="ham-fisted.api.html#var-default-hash-provider">default-hash-provider</a>.</li>
</ul>
<p>Examples:</p>
<pre><code class="language-clojure">ham-fisted.api&gt; (immut-map (obj-ary :a 1 :b 2 :c 3 :d 4))
{:a 1, :b 2, :c 3, :d 4}
ham-fisted.api&gt; (type *1)
ham_fisted.PersistentArrayMap
ham-fisted.api&gt; (immut-map (obj-ary :a 1 :b 2 :c 3 :d 4 :e 5))
{:d 4, :b 2, :c 3, :a 1, :e 5}
ham-fisted.api&gt; (type *1)
ham_fisted.PersistentHashMap
ham-fisted.api&gt; (immut-map [[:a 1][:b 2][:c 3][:d 4][:e 5]])
{:d 4, :b 2, :c 3, :a 1, :e 5}
ham-fisted.api&gt; (type *1)
ham_fisted.PersistentHashMap
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L605">view source</a></div></div><div class="public anchor" id="var-immut-set"><h3>immut-set</h3><div class="usage"><code>(immut-set)</code><code>(immut-set data)</code><code>(immut-set options data)</code></div><div class="doc"><div class="markdown"><p>Create an immutable hashset based on the bitmap trie.  This object supports conversion
to transients via <code>transient</code>.</p>
<p>Options:</p>
<ul>
<li><code>:hash-provider</code> - An implementation of <code>BitmapTrieCommon$HashProvider</code>.  Defaults to
the <a href="ham-fisted.api.html#var-default-hash-provider">default-hash-provider</a>.</li>
</ul>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L707">view source</a></div></div><div class="public anchor" id="var-in-fork-join-task.3F"><h3>in-fork-join-task?</h3><div class="usage"><code>(in-fork-join-task?)</code></div><div class="doc"><div class="markdown"><p>True if you are currently running in a fork-join task</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1192">view source</a></div></div><div class="public anchor" id="var-indexed-accum"><h3>indexed-accum</h3><h4 class="type">macro</h4><div class="usage"><code>(indexed-accum accvar idxvar varvar &amp; code)</code></div><div class="doc"><div class="markdown"><p>Create an indexed accumulator that recieves and additional long index
during a reduction:</p>
<pre><code class="language-clojure">ham-fisted.api&gt; (reduce (indexed-accum
                         acc idx v (conj acc [idx v]))
                        []
                        (range 5))
[[0 0] [1 1] [2 2] [3 3] [4 4]]
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2590">view source</a></div></div><div class="public anchor" id="var-indexed-double-accum"><h3>indexed-double-accum</h3><h4 class="type">macro</h4><div class="usage"><code>(indexed-double-accum accvar idxvar varvar &amp; code)</code></div><div class="doc"><div class="markdown"><p>Create an indexed double accumulator that recieves and additional long index
during a reduction:</p>
<pre><code class="language-clojure">ham-fisted.api&gt; (reduce (indexed-double-accum
                         acc idx v (conj acc [idx v]))
                        []
                        (range 5))
[[0 0.0] [1 1.0] [2 2.0] [3 3.0] [4 4.0]]
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2554">view source</a></div></div><div class="public anchor" id="var-indexed-long-accum"><h3>indexed-long-accum</h3><h4 class="type">macro</h4><div class="usage"><code>(indexed-long-accum accvar idxvar varvar &amp; code)</code></div><div class="doc"><div class="markdown"><p>Create an indexed long accumulator that recieves and additional long index
during a reduction:</p>
<pre><code class="language-clojure">ham-fisted.api&gt; (reduce (indexed-long-accum
                         acc idx v (conj acc [idx v]))
                        []
                        (range 5))
[[0 0] [1 1] [2 2] [3 3] [4 4]]
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2572">view source</a></div></div><div class="public anchor" id="var-int-array"><h3>int-array</h3><h4 class="type">macro</h4><div class="usage"><code>(int-array)</code><code>(int-array data)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2321">view source</a></div></div><div class="public anchor" id="var-int-array-list"><h3>int-array-list</h3><div class="usage"><code>(int-array-list)</code><code>(int-array-list cap-or-data)</code></div><div class="doc"><div class="markdown"><p>An array list that is as fast as java.util.ArrayList for add,get, etc but includes
many accelerated operations such as fill and an accelerated addAll when the src data
is an array list.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2300">view source</a></div></div><div class="public anchor" id="var-intersection"><h3>intersection</h3><div class="usage"><code>(intersection s1 s2)</code></div><div class="doc"><div class="markdown"><p>Intersect the keyspace of set1 and set2 returning a new set.  Also works if s1 is a
map and s2 is a set - the map is trimmed to the intersecting keyspace of s1 and s2.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1116">view source</a></div></div><div class="public anchor" id="var-into"><h3>into</h3><div class="usage"><code>(into container data)</code><code>(into container xform data)</code></div><div class="doc"><div class="markdown"><p>Like clojure.core/into, but also designed to handle editable collections,
transients, and base java.util.Map, List and Set containers.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L496">view source</a></div></div><div class="public anchor" id="var-into-array"><h3>into-array</h3><div class="usage"><code>(into-array aseq)</code><code>(into-array ary-type aseq)</code><code>(into-array ary-type mapfn aseq)</code></div><div class="doc"><div class="markdown"><p>Faster version of clojure.core/into-array.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1858">view source</a></div></div><div class="public anchor" id="var-ivec"><h3>ivec</h3><h4 class="type">macro</h4><div class="usage"><code>(ivec)</code><code>(ivec data)</code></div><div class="doc"><div class="markdown"><p>Create a persistent-vector-compatible list backed by an int array.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2327">view source</a></div></div><div class="public anchor" id="var-java-concurrent-hashmap"><h3>java-concurrent-hashmap</h3><div class="usage"><code>(java-concurrent-hashmap)</code><code>(java-concurrent-hashmap data)</code></div><div class="doc"><div class="markdown"><p>Create a java concurrent hashmap which is still the fastest possible way to solve a
few concurrent problems.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L687">view source</a></div></div><div class="public anchor" id="var-java-hashmap"><h3>java-hashmap</h3><div class="usage"><code>(java-hashmap)</code><code>(java-hashmap data)</code></div><div class="doc"><div class="markdown"><p>Create a java.util.HashMap.  Duplicate keys are treated as if map was created by assoc.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L674">view source</a></div></div><div class="public anchor" id="var-java-hashset"><h3>java-hashset</h3><div class="usage"><code>(java-hashset)</code><code>(java-hashset data)</code></div><div class="doc"><div class="markdown"><p>Create a java hashset which is still the fastest possible way to solve a few problems.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L720">view source</a></div></div><div class="public anchor" id="var-keys"><h3>keys</h3><div class="usage"><code>(keys m)</code></div><div class="doc"><div class="markdown"><p>Return the keys of a map.  This version allows parallel reduction operations on
the returned sequence.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L949">view source</a></div></div><div class="public anchor" id="var-larange"><h3>larange</h3><div class="usage"><code>(larange end)</code><code>(larange start end)</code><code>(larange start end step)</code></div><div class="doc"><div class="markdown"><p>Return a long array holding values of the range.  Use <code>-&gt;collection</code> get a list
implementation for generic access.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2132">view source</a></div></div><div class="public anchor" id="var-last"><h3>last</h3><div class="usage"><code>(last coll)</code></div><div class="doc"><div class="markdown"><p>Get the last item in the collection.  Constant time for
random access lists.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2856">view source</a></div></div><div class="public anchor" id="var-long-accumulator"><h3>long-accumulator</h3><h4 class="type">macro</h4><div class="usage"><code>(long-accumulator accvar varvar &amp; code)</code></div><div class="doc"><div class="markdown"><p>Type-hinted double reduction accumulator.
consumer:</p>
<pre><code class="language-clojure">  ham-fisted.api&gt; (reduce (double-accumulator acc v (+ (double acc) v))
                             0.0
                             (range 1000))
#&lt;SimpleSum@2fbcf20: 499500.0&gt;
ham-fisted.api&gt; @*1
499500.0
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2536">view source</a></div></div><div class="public anchor" id="var-long-array"><h3>long-array</h3><h4 class="type">macro</h4><div class="usage"><code>(long-array)</code><code>(long-array data)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2352">view source</a></div></div><div class="public anchor" id="var-long-array-list"><h3>long-array-list</h3><div class="usage"><code>(long-array-list)</code><code>(long-array-list cap-or-data)</code></div><div class="doc"><div class="markdown"><p>An array list that is as fast as java.util.ArrayList for add,get, etc but includes
many accelerated operations such as fill and an accelerated addAll when the src data
is an array list.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2333">view source</a></div></div><div class="public anchor" id="var-long-binary-operator"><h3>long-binary-operator</h3><h4 class="type">macro</h4><div class="usage"><code>(long-binary-operator lvar rvar &amp; code)</code></div><div class="doc"><div class="markdown"><p>Create a binary operator that is specialized for long values.  Useful to speed up
operations such as sorting or summation.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2454">view source</a></div></div><div class="public anchor" id="var-long-consumer"><h3>long-consumer</h3><h4 class="type">macro</h4><div class="usage"><code>(long-consumer varname &amp; code)</code></div><div class="doc"><div class="markdown"><p>Create an instance of a java.util.function.LongConsumer</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2783">view source</a></div></div><div class="public anchor" id="var-long-consumer-accumulator"><h3>long-consumer-accumulator</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Converts from a long consumer to a long reduction accumulator that returns the
consumer:</p>
<pre><code class="language-clojure">ham-fisted.api&gt; (reduce double-consumer-accumulator
                             (Sum$SimpleSum.)
                             (range 1000))
#&lt;SimpleSum@2fbcf20: 499500.0&gt;
ham-fisted.api&gt; @*1
499500.0
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2493">view source</a></div></div><div class="public anchor" id="var-long-predicate"><h3>long-predicate</h3><h4 class="type">macro</h4><div class="usage"><code>(long-predicate varname &amp; code)</code></div><div class="doc"><div class="markdown"><p>Create an implementation of java.util.Function.LongPredicate</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2735">view source</a></div></div><div class="public anchor" id="var-long-to-double-function"><h3>long-to-double-function</h3><h4 class="type">macro</h4><div class="usage"><code>(long-to-double-function varname &amp; code)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L843">view source</a></div></div><div class="public anchor" id="var-long-unary-operator"><h3>long-unary-operator</h3><h4 class="type">macro</h4><div class="usage"><code>(long-unary-operator varname &amp; code)</code></div><div class="doc"><div class="markdown"><p>Create an implementation of java.util.function.LongUnaryOperator</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2744">view source</a></div></div><div class="public anchor" id="var-lvec"><h3>lvec</h3><h4 class="type">macro</h4><div class="usage"><code>(lvec)</code><code>(lvec data)</code></div><div class="doc"><div class="markdown"><p>Create a persistent-vector-compatible list backed by a long array.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2358">view source</a></div></div><div class="public anchor" id="var-make-comparator"><h3>make-comparator</h3><h4 class="type">macro</h4><div class="usage"><code>(make-comparator lhsvar rhsvar code)</code></div><div class="doc"><div class="markdown"><p>Make a java comparator.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1900">view source</a></div></div><div class="public anchor" id="var-make-double-comparator"><h3>make-double-comparator</h3><h4 class="type">macro</h4><div class="usage"><code>(make-double-comparator lhsvar rhsvar &amp; code)</code></div><div class="doc"><div class="markdown"><p>Make a comparator that gets passed two double arguments.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1885">view source</a></div></div><div class="public anchor" id="var-make-long-comparator"><h3>make-long-comparator</h3><h4 class="type">macro</h4><div class="usage"><code>(make-long-comparator lhsvar rhsvar &amp; code)</code></div><div class="doc"><div class="markdown"><p>Make a comparator that gets passed two long arguments.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1870">view source</a></div></div><div class="public anchor" id="var-map-factory"><h3>map-factory</h3><div class="usage"><code>(map-factory keys)</code></div><div class="doc"><div class="markdown"><p>Create a factory to quickly produce maps with a fixed set of keys but arbitrary
values.  This version takes a vector or sequence of keys and returns and IFn that
takes a vector, object-array, or sequence of values.  The most efficient pathway will be
if values are already in an object array.</p>
<p>The factory produces PersistentHashMaps.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1431">view source</a></div></div><div class="public anchor" id="var-map-intersection"><h3>map-intersection</h3><div class="usage"><code>(map-intersection bfn map1 map2)</code></div><div class="doc"><div class="markdown"><p>Intersect the keyspace of map1 and map2 returning a new map.  Each value is the result
of bfn applied to the map1-value and map2-value, respectively.  See documentation for
<a href="ham-fisted.api.html#var-map-union">map-union</a>.</p>
<p>Clojure's <code>merge</code> functionality can be duplicate via:</p>
<pre><code class="language-clojure">(map-intersection (fn [lhs rhs] rhs) map1 map2)
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1091">view source</a></div></div><div class="public anchor" id="var-map-keyset"><h3>map-keyset</h3><div class="usage"><code>(map-keyset m)</code></div><div class="doc"><div class="markdown"><p>Return the keyset of the map.  This may not be in the same order as (keys m) or (vals
m).  For hamf maps, this has the same ordering as (keys m).  For both hamf and java
hashmaps, the returned implementation of java.util.Set has both more utility and better
performance than (keys m).</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L933">view source</a></div></div><div class="public anchor" id="var-map-union"><h3>map-union</h3><div class="usage"><code>(map-union bfn map1 map2)</code></div><div class="doc"><div class="markdown"><p>Take the union of two maps returning a new map.  bfn is a function that takes 2 arguments,
map1-val and map2-val and returns a new value.  Has fallback if map1 and map2 aren't backed
by bitmap tries.</p>
<ul>
<li><code>bfn</code> - A function taking two arguments and returning one.  <code>+</code> is a fine choice.</li>
<li><code>map1</code> - the lhs of the union.</li>
<li><code>map2</code> - the rhs of the union.</li>
</ul>
<p>Returns a persistent map if input is a persistent map else if map1 is a mutable map
map1 is returned with overlapping entries merged.  In this way you can pass in a
normal java hashmap, a linked java hashmap, or a persistent map and get back a result that
matches the input.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L963">view source</a></div></div><div class="public anchor" id="var-map-union-java-hashmap"><h3>map-union-java-hashmap</h3><div class="usage"><code>(map-union-java-hashmap bfn lhs rhs)</code></div><div class="doc"><div class="markdown"><p>Take the union of two maps returning a new map.  See documentation for <a href="map-union">map-union</a>.
Returns a java.util.HashMap.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L996">view source</a></div></div><div class="public anchor" id="var-map-values"><h3>map-values</h3><div class="usage"><code>(map-values m)</code></div><div class="doc"><div class="markdown"><p>Return the values collection of the map.  This may not be in the same order as (keys m)
or (vals m).  For hamf hashmaps, this does have the same order as (vals m).  For both
hamf hashmaps and java hashmaps, this has better performance for reductions especially
using <code>reduce</code> than (vals m).</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L941">view source</a></div></div><div class="public anchor" id="var-mapmap"><h3>mapmap</h3><div class="usage"><code>(mapmap map-fn src-map)</code></div><div class="doc"><div class="markdown"><p>Clojure's missing piece. Map over the data in src-map, which must be a map or
sequence of pairs, using map-fn. map-fn must return either a new key-value
pair or nil. Then, remove nil pairs, and return a new map. If map-fn returns
more than one pair with the same key later pair will overwrite the earlier
pair.</p>
<p>Logically the same as:</p>
<pre><code class="language-clojure">(-&gt;&gt; (map map-fn src-map) (remove nil?) (into {}))
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1169">view source</a></div></div><div class="public anchor" id="var-mapv"><h3>mapv</h3><div class="usage"><code>(mapv map-fn coll)</code><code>(mapv map-fn c1 c2)</code><code>(mapv map-fn c1 c2 c3)</code><code>(mapv map-fn c1 c2 c3 &amp; args)</code></div><div class="doc"><div class="markdown"><p>Produce a persistent vector from a collection.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1740">view source</a></div></div><div class="public anchor" id="var-mean"><h3>mean</h3><div class="usage"><code>(mean coll)</code><code>(mean coll options)</code></div><div class="doc"><div class="markdown"><p>Return the mean of the collection.  Returns double/NaN for empty collections.
See options for <a href="ham-fisted.api.html#var-sum">sum</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2834">view source</a></div></div><div class="public anchor" id="var-memoize"><h3>memoize</h3><div class="usage"><code>(memoize memo-fn)</code><code>(memoize memo-fn {:keys [write-ttl-ms access-ttl-ms soft-values? weak-values? max-size record-stats?]})</code></div><div class="doc"><div class="markdown"><p>Efficient thread-safe version of clojure.core/memoize.</p>
<p>Also see <a href="ham-fisted.api.html#var-clear-memoized-fn.21">clear-memoized-fn!</a> to mutably clear the backing store.</p>
<p>Options.</p>
<ul>
<li><code>:write-ttl-ms</code> - Time that values should remain in the cache after write in milliseconds.</li>
<li><code>:access-ttl-ms</code> - Time that values should remain in the cache after access in milliseconds.</li>
<li><code>:soft-values?</code> - When true, the cache will store <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/ref/SoftReference.html">SoftReferences</a> to the data.</li>
<li><code>:weak-values?</code> - When true, the cache will store <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/ref/WeakReference.html">WeakReferences</a> to the data.</li>
<li><code>:max-size</code> - When set, the cache will behave like an LRU cache.</li>
<li><code>:record-stats?</code> - When true, the LoadingCache will record access statistics.  You can
get those via the undocumented function memo-stats.</li>
</ul>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1335">view source</a></div></div><div class="public anchor" id="var-merge"><h3>merge</h3><div class="usage"><code>(merge)</code><code>(merge m1)</code><code>(merge m1 m2)</code><code>(merge m1 m2 &amp; args)</code></div><div class="doc"><div class="markdown"><p>Merge 2 maps with the rhs values winning any intersecting keys.  Uses map-union
with <code>BitmapTrieCommon/rhsWins</code>.</p>
<p>Returns a new persistent map.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1306">view source</a></div></div><div class="public anchor" id="var-merge-with"><h3>merge-with</h3><div class="usage"><code>(merge-with f)</code><code>(merge-with f m1)</code><code>(merge-with f m1 m2)</code><code>(merge-with f m1 m2 &amp; args)</code></div><div class="doc"><div class="markdown"><p>Merge (union) any number of maps using <code>f</code> as the merge operator.  <code>f</code> gets passed two
arguments, lhs-val and rhs-val and must return a new value.</p>
<p>Returns a new persistent map.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1322">view source</a></div></div><div class="public anchor" id="var-mut-list"><h3>mut-list</h3><div class="usage"><code>(mut-list)</code><code>(mut-list data)</code></div><div class="doc"><div class="markdown"><p>Create a mutable java list that is in-place convertible to a persistent list</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L726">view source</a></div></div><div class="public anchor" id="var-mut-map"><h3>mut-map</h3><div class="usage"><code>(mut-map)</code><code>(mut-map data)</code><code>(mut-map options data)</code></div><div class="doc"><div class="markdown"><p>Create a mutable implementation of java.util.Map.  This object efficiently implements
ITransient map so you can use assoc! and persistent! on it but you can additionally use
operations such as put!, remove!, compute-at! and compute-if-absent!.  You can create
a persistent hashmap via the clojure <code>persistent!</code> call.</p>
<p>If data is an object array it is treated as a flat key-value list which is distinctly
different than how conj! treats object arrays.  You have been warned.</p>
<p>Options:</p>
<ul>
<li><code>:hash-provider</code> - An implementation of <code>BitmapTrieCommon$HashProvider</code>.  Defaults to
the <a href="ham-fisted.api.html#var-default-hash-provider">default-hash-provider</a>.</li>
</ul>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L540">view source</a></div></div><div class="public anchor" id="var-mut-set"><h3>mut-set</h3><div class="usage"><code>(mut-set)</code><code>(mut-set data)</code><code>(mut-set options data)</code></div><div class="doc"><div class="markdown"><p>Create a mutable hashset based on the bitmap trie. You can create a persistent hashset via
the clojure <code>persistent!</code> call.</p>
<p>Options:</p>
<ul>
<li><code>:hash-provider</code> - An implementation of <code>BitmapTrieCommon$HashProvider</code>.  Defaults to
the <a href="ham-fisted.api.html#var-default-hash-provider">default-hash-provider</a>.</li>
</ul>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L694">view source</a></div></div><div class="public anchor" id="var-obj-ary"><h3>obj-ary</h3><div class="usage"><code>(obj-ary)</code><code>(obj-ary v0)</code><code>(obj-ary v0 v1)</code><code>(obj-ary v0 v1 v2)</code><code>(obj-ary v0 v1 v2 v3)</code><code>(obj-ary v0 v1 v2 v3 v4)</code><code>(obj-ary v0 v1 v2 v3 v4 v5)</code><code>(obj-ary v0 v1 v2 v3 v4 v5 v6)</code><code>(obj-ary v0 v1 v2 v3 v4 v5 v6 v7)</code><code>(obj-ary v0 v1 v2 v3 v4 v5 v6 v7 v8)</code><code>(obj-ary v0 v1 v2 v3 v4 v5 v6 v7 v8 v9)</code><code>(obj-ary v0 v1 v2 v3 v4 v5 v6 v7 v8 v9 v10)</code><code>(obj-ary v0 v1 v2 v3 v4 v5 v6 v7 v8 v9 v10 v11)</code><code>(obj-ary v0 v1 v2 v3 v4 v5 v6 v7 v8 v9 v10 v11 v12)</code><code>(obj-ary v0 v1 v2 v3 v4 v5 v6 v7 v8 v9 v10 v11 v12 v13)</code><code>(obj-ary v0 v1 v2 v3 v4 v5 v6 v7 v8 v9 v10 v11 v12 v13 v14)</code><code>(obj-ary v0 v1 v2 v3 v4 v5 v6 v7 v8 v9 v10 v11 v12 v13 v14 v15)</code></div><div class="doc"><div class="markdown"><p>As quickly as possible, produce an object array from these inputs.  Very fast for arities
&lt;= 16.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L474">view source</a></div></div><div class="public anchor" id="var-object-array"><h3>object-array</h3><div class="usage"><code>(object-array item)</code></div><div class="doc"><div class="markdown"><p>Faster version of object-array for java collections and strings.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1853">view source</a></div></div><div class="public anchor" id="var-object-array-list"><h3>object-array-list</h3><div class="usage"><code>(object-array-list)</code><code>(object-array-list cap-or-data)</code></div><div class="doc"><div class="markdown"><p>An array list that is as fast as java.util.ArrayList for add,get, etc but includes
many accelerated operations such as fill and an accelerated addAll when the src data
is an object array based list.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2428">view source</a></div></div><div class="public anchor" id="var-persistent.21"><h3>persistent!</h3><div class="usage"><code>(persistent! v)</code></div><div class="doc"><div class="markdown"><p>If object is an ITransientCollection, call clojure.core/persistent!.  Else return
collection.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1264">view source</a></div></div><div class="public anchor" id="var-pgroups"><h3>pgroups</h3><div class="usage"><code>(pgroups n-elems body-fn options)</code><code>(pgroups n-elems body-fn)</code></div><div class="doc"><div class="markdown"><p>Run y groups across n-elems.   Y is common pool parallelism.</p>
<p>body-fn gets passed two longs, startidx and endidx.</p>
<p>Returns a sequence of the results of body-fn applied to each group of indexes.</p>
<p>Before using this primitive please see if <a href="ham-fisted.api.html#var-preduce">preduce</a> will work.</p>
<p>Options:</p>
<ul>
<li><code>:pgroup-min</code> - when provided n-elems must be more than this value for the computation
to be parallelized.</li>
<li><code>:batch-size</code> - max batch size.  Defaults to 64000.</li>
</ul>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1198">view source</a></div></div><div class="public anchor" id="var-pmap"><h3>pmap</h3><div class="usage"><code>(pmap map-fn &amp; sequences)</code></div><div class="doc"><div class="markdown"><p>pmap using the commonPool.  This is useful for interacting with other primitives, namely
<a href="ham-fisted.api.html#var-pgroups">pgroups</a> which are also based on this pool.  This is a change from Clojure's base
pmap in that it uses the ForkJoinPool/commonPool for parallelism as opposed to the
agent pool - this makes it compose with pgroups and dtype-next's parallelism system.</p>
<p>Before using this primitive please see if <a href="ham-fisted.api.html#var-preduce">preduce</a> will work.</p>
<p>Is guaranteed to <em>not</em> trigger the need for <code>shutdown-agents</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1238">view source</a></div></div><div class="public anchor" id="var-predicate"><h3>predicate</h3><h4 class="type">macro</h4><div class="usage"><code>(predicate varname &amp; code)</code></div><div class="doc"><div class="markdown"><p>Create an implementation of java.util.Function.Predicate</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2753">view source</a></div></div><div class="public anchor" id="var-preduce"><h3>preduce</h3><div class="usage"><code>(preduce init-val-fn rfn merge-fn coll)</code><code>(preduce init-val-fn rfn merge-fn options coll)</code></div><div class="doc"><div class="markdown"><p>Parallelized reduction.  Currently coll must either be random access or a lznc map/filter
chain based on one or more random access entities, hashmaps and sets from this library or
any java.util set, hashmap or concurrent versions of these.  If input cannot be
parallelized this lowers to a normal serial reduction.</p>
<ul>
<li><code>init-val-fn</code> - Potentially called in reduction threads to produce each initial value.</li>
<li><code>rfn</code> - normal clojure reduction function.  Typehinting the second argument to double
or long will sometimes produce a faster reduction.</li>
<li><code>merge-fn</code> - Merge two reduction results into one.</li>
</ul>
<p>Options:</p>
<ul>
<li><code>:pool</code> - The fork-join pool to use.  Defaults to common pool which assumes reduction is
cpu-bound.</li>
<li><code>:parallelism</code> - What parallelism to use - defaults to pool's <code>getParallelism</code> method.</li>
<li><code>:max-batch-size</code> - Rough maximum batch size for indexed or grouped reductions.  This
can both even out batch times and ensure you don't get into safepoint trouble with
jdk-8.</li>
<li><code>:min-n</code> - minimum number of elements before initiating a parallelized reduction -
Defaults to 1000 but you should customize this particular to your specific reduction.</li>
<li><code>:ordered?</code> - True if results should be in order.  Unordered results sometimes are
slightly faster but again you should test for your specific situation..</li>
<li><code>:cat-parallelism</code> - Either <code>:seq-wise</code> or <code>:elem-wise</code>, defaults to <code>:seq-wise</code>.
Test for your specific situation, this really is data-dependent. This contols how a
concat primitive parallelizes the reduction across its contains.  Elemwise means each
container's reduction is individually parallelized while seqwise indicates to do a
pmap style initial reduction across containers then merge the results.</li>
<li><code>:put-timeout-ms</code> - Number of milliseconds to wait for queue space before throwing
an exception in unordered reductions.  Defaults to 50000.</li>
<li><code>:unmerged-result?</code> - Defaults to false.  When true, the sequence of results
be returned directly without any merge steps in a lazy-noncaching container.  Beware
the noncaching aspect -- repeatedly evaluating this result may kick off the parallelized
reduction multiple times.  To ensure caching if unsure call <code>seq</code> on the result ...).</li>
</ul>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L259">view source</a></div></div><div class="public anchor" id="var-preduce-reducer"><h3>preduce-reducer</h3><div class="usage"><code>(preduce-reducer reducer options coll)</code><code>(preduce-reducer reducer coll)</code></div><div class="doc"><div class="markdown"><p>Given an instance of <a href="ham-fisted.protocols.html#var-ParallelReducer">ham-fisted.protocols/ParallelReducer</a>, perform a parallel
reduction.</p>
<p>In the case where the result is requested unmerged then finalize will
be called on each result in a lazy noncaching way.  In this case you can use a
non-parallelized reducer and simply get a sequence of results as opposed to one.</p>
<ul>
<li>reducer - instance of ParallelReducer</li>
<li>options - Same options as preduce.</li>
<li>coll - something potentially with a parallelizable reduction.</li>
</ul>
<p>See options for <a href="ham-fisted.api.html#var-preduce">preduce</a>.</p>
<p>Additional Options:</p>
<p><code>:skip-finalize?</code> - when true, the reducer's finalize method is not called on the result.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L299">view source</a></div></div><div class="public anchor" id="var-preduce-reducers"><h3>preduce-reducers</h3><div class="usage"><code>(preduce-reducers reducers options coll)</code><code>(preduce-reducers reducers coll)</code></div><div class="doc"><div class="markdown"><p>Given a map or sequence of <a href="ham-fisted.protocols.html#var-ParallelReducer">ham-fisted.protocols/ParallelReducer</a>, produce a map or
sequence of reduced values. Reduces over input coll once in parallel if coll is large
enough.  See options for <a href="ham-fisted.api.html#var-preduce">preduce</a>.</p>
<pre><code class="language-clojure">ham-fisted.api&gt; (preduce-reducers {:sum (Sum.) :mult *} (range 20))
{:mult 0, :sum #&lt;Sum@5082c3b7: {:sum 190.0, :n-elems 20}&gt;}
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L366">view source</a></div></div><div class="public anchor" id="var-range"><h3>range</h3><div class="usage"><code>(range)</code><code>(range end)</code><code>(range start end)</code><code>(range start end step)</code></div><div class="doc"><div class="markdown"><p>When given arguments returns a range that implements random access java list
interfaces so nth, reverse and friends are efficient.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2158">view source</a></div></div><div class="public anchor" id="var-rcomp"><h3>rcomp</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>A reverse comparator that sorts in descending order</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1914">view source</a></div></div><div class="public anchor" id="var-reduce-put-map"><h3>reduce-put-map</h3><div class="usage"><code>(reduce-put-map m data)</code></div><div class="doc"><div class="markdown"><p>Perform a reduction to put values as if by assoc into a mutable map.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L524">view source</a></div></div><div class="public anchor" id="var-reduce-reducer"><h3>reduce-reducer</h3><div class="usage"><code>(reduce-reducer reducer coll)</code></div><div class="doc"><div class="markdown"><p>Serially reduce a reducer.</p>
<pre><code class="language-clojure">ham-fisted.api&gt; (reduce-reducer (Sum.) (range 1000))
#&lt;Sum@afbedb: {:sum 499500.0, :n-elems 1000}&gt;
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L443">view source</a></div></div><div class="public anchor" id="var-reduce-reducers"><h3>reduce-reducers</h3><div class="usage"><code>(reduce-reducers reducers coll)</code></div><div class="doc"><div class="markdown"><p>Serially reduce a map or sequence of reducers into a map or sequence of results.</p>
<pre><code class="language-clojure">ham-fisted.api&gt; (reduce-reducers {:a (Sum.) :b *} (range 1 21))
{:b 2432902008176640000, :a #&lt;Sum@6bcebeb1: {:sum 210.0, :n-elems 20}&gt;}
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L457">view source</a></div></div><div class="public anchor" id="var-reducer-.3Ecompletef"><h3>reducer-&gt;completef</h3><div class="usage"><code>(reducer-&gt;completef reducer)</code></div><div class="doc"><div class="markdown"><p>Return fold-compatible pair of <a href="reducef, completef">reducef, completef</a> given a parallel reducer.
Note that folded reducers are not finalized as of this time:</p>
<pre><code class="language-clojure">ham-fisted.api&gt; (def data (vec (range 200000)))
#'ham-fisted.api/data
ham-fisted.api&gt; (r/fold (reducer-&gt;completef (Sum.)) (reducer-&gt;rfn (Sum.)) data)
#&lt;Sum@858c206: {:sum 1.99999E10, :n-elems 200000}&gt;
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L423">view source</a></div></div><div class="public anchor" id="var-reducer-.3Erf"><h3>reducer-&gt;rf</h3><div class="usage"><code>(reducer-&gt;rf reducer)</code></div><div class="doc"><div class="markdown"><p>Given a reducer, return a transduce-compatible rf -</p>
<pre><code class="language-clojure">ham-fisted.api&gt; (transduce (clojure.core/map #(+ % 2)) (reducer-&gt;rfn (Sum.)) (range 200))
{:sum 20300.0, :n-elems 200}
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L407">view source</a></div></div><div class="public anchor" id="var-reducer-xform-.3Ereducer"><h3>reducer-xform-&gt;reducer</h3><div class="usage"><code>(reducer-xform-&gt;reducer reducer xform)</code></div><div class="doc"><div class="markdown"><p>Given a reducer and a transducer xform produce a new reducer which will apply
the transducer pipeline before is reduction function.</p>
<pre><code class="language-clojure">ham-fisted.api&gt; (reduce-reducer (reducer-xform-&gt;reducer (Sum.) (clojure.core/filter even?))
                                (range 1000))
#&lt;Sum@479456: {:sum 249500.0, :n-elems 500}&gt;
</code></pre>
<p>!! - If you use a stateful transducer here then you must <em>not</em> use the reducer in a
parallelized reduction.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L380">view source</a></div></div><div class="public anchor" id="var-reducible-merge"><h3>reducible-merge</h3><div class="usage"><code>(reducible-merge lhs rhs)</code></div><div class="doc"><div class="markdown"><p>Parallel reduction merge function that expects both sides to be an instances of
Reducible</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2702">view source</a></div></div><div class="public anchor" id="var-reindex"><h3>reindex</h3><div class="usage"><code>(reindex coll indexes)</code></div><div class="doc"><div class="markdown"><p>Permut coll by the given indexes.  Result is random-access and the same length as
the index collection.  Indexes are expected to be in the range of [0-&gt;count(coll)).</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L124">view source</a></div></div><div class="public anchor" id="var-repeat"><h3>repeat</h3><div class="usage"><code>(repeat v)</code><code>(repeat n v)</code></div><div class="doc"><div class="markdown"><p>When called with no arguments, produce an infinite sequence of v.
When called with 2 arguments, produce a random access list that produces v at each
index.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2982">view source</a></div></div><div class="public anchor" id="var-rest"><h3>rest</h3><div class="usage"><code>(rest coll)</code></div><div class="doc"><div class="markdown"><p>Version of rest that does uses subvec if collection is random access.  This preserves the
ability to reduce in parallel over the collection.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2875">view source</a></div></div><div class="public anchor" id="var-reverse"><h3>reverse</h3><div class="usage"><code>(reverse coll)</code></div><div class="doc"><div class="markdown"><p>Reverse a collection or sequence.  Constant time reverse is provided
for any random access list.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2888">view source</a></div></div><div class="public anchor" id="var-short-array"><h3>short-array</h3><div class="usage"><code>(short-array)</code><code>(short-array data)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2238">view source</a></div></div><div class="public anchor" id="var-short-array-list"><h3>short-array-list</h3><div class="usage"><code>(short-array-list)</code><code>(short-array-list data)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2226">view source</a></div></div><div class="public anchor" id="var-shuffle"><h3>shuffle</h3><div class="usage"><code>(shuffle coll)</code><code>(shuffle coll opts)</code></div><div class="doc"><div class="markdown"><p>shuffle values returning random access container.</p>
<p>Options:</p>
<ul>
<li><code>:seed</code> - If instance of java.util.Random, use this.  If integer, use as seed.
If not provided a new instance of java.util.Random is created.</li>
</ul>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2050">view source</a></div></div><div class="public anchor" id="var-sort"><h3>sort</h3><div class="usage"><code>(sort coll)</code><code>(sort comp coll)</code></div><div class="doc"><div class="markdown"><p>Exact replica of clojure.core/sort but instead of wrapping the final object array in a seq
which loses the fact the result is countable and random access.  Faster implementations
are provided when the input is an integer, long, or double array.</p>
<p>The default comparison is nan-last meaning null-last if the input is an undefined
container and nan-last if the input is a double or float specific container.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1998">view source</a></div></div><div class="public anchor" id="var-sort-by"><h3>sort-by</h3><div class="usage"><code>(sort-by keyfn coll)</code><code>(sort-by keyfn comp coll)</code></div><div class="doc"><div class="markdown"><p>Sort a collection by keyfn.  Typehinting the return value of keyfn will somewhat increase
the speed of the sort :-).</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2032">view source</a></div></div><div class="public anchor" id="var-sorta"><h3>sorta</h3><div class="usage"><code>(sorta coll)</code><code>(sorta comp coll)</code></div><div class="doc"><div class="markdown"><p>Sort returning an object array.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1979">view source</a></div></div><div class="public anchor" id="var-splice"><h3>splice</h3><div class="usage"><code>(splice v1 idx v2)</code></div><div class="doc"><div class="markdown"><p>Splice v2 into v1 at idx.  Returns a persistent vector.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1786">view source</a></div></div><div class="public anchor" id="var-subvec"><h3>subvec</h3><div class="usage"><code>(subvec m sidx eidx)</code><code>(subvec m sidx)</code></div><div class="doc"><div class="markdown"><p>More general version of subvec.  Works for any java list implementation
including persistent vectors and any array.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1626">view source</a></div></div><div class="public anchor" id="var-sum"><h3>sum</h3><div class="usage"><code>(sum coll)</code><code>(sum coll options)</code></div><div class="doc"><div class="markdown"><p>Very stable high performance summation.  Uses both threading and kahans compensated
summation.</p>
<p>Options:</p>
<ul>
<li><code>nan-strategy</code> - defaults to <code>:remove</code>.  Options are <code>:keep</code>, <code>:remove</code> and
<code>:exception</code>.</li>
</ul>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2821">view source</a></div></div><div class="public anchor" id="var-sum-fast"><h3>sum-fast</h3><div class="usage"><code>(sum-fast coll)</code></div><div class="doc"><div class="markdown"><p>Fast simple serial double summation.  Does not do any nan checking or summation
compensation.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2709">view source</a></div></div><div class="public anchor" id="var-sum-stable-nelems"><h3>sum-stable-nelems</h3><div class="usage"><code>(sum-stable-nelems coll)</code><code>(sum-stable-nelems coll options)</code></div><div class="doc"><div class="markdown"><p>Stable sum returning map of {:sum :n-elems}. See options for <a href="ham-fisted.api.html#var-sum">sum</a>.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2812">view source</a></div></div><div class="public anchor" id="var-take"><h3>take</h3><div class="usage"><code>(take n coll)</code></div><div class="doc"><div class="markdown"><p>Take the first N values from a collection.  If the input is
random access, the result will be random access.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2904">view source</a></div></div><div class="public anchor" id="var-take-last"><h3>take-last</h3><div class="usage"><code>(take-last n coll)</code></div><div class="doc"><div class="markdown"><p>Take the last N values of the collection.  If the input is random-access,
the result will be random-access.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2915">view source</a></div></div><div class="public anchor" id="var-take-min"><h3>take-min</h3><div class="usage"><code>(take-min n comp values)</code><code>(take-min n values)</code></div><div class="doc"><div class="markdown"><p>Take the min n values of a collection.  This is not an order-preserving operation.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2928">view source</a></div></div><div class="public anchor" id="var-to-double-function"><h3>to-double-function</h3><h4 class="type">macro</h4><div class="usage"><code>(to-double-function varname &amp; code)</code></div><div class="doc"><div class="markdown"><p>Create an instance of a function that converts objects to longs</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L835">view source</a></div></div><div class="public anchor" id="var-to-long-function"><h3>to-long-function</h3><h4 class="type">macro</h4><div class="usage"><code>(to-long-function varname &amp; code)</code></div><div class="doc"><div class="markdown"><p>Create an instance of a function that converts objects to longs</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L827">view source</a></div></div><div class="public anchor" id="var-type-single-arg-ifn"><h3>type-single-arg-ifn</h3><div class="usage"><code>(type-single-arg-ifn ifn)</code></div><div class="doc"><div class="markdown"><p>Categorize the return type of a single argument ifn.  May be :float64, :int64, or :object.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2016">view source</a></div></div><div class="public anchor" id="var-unary-operator"><h3>unary-operator</h3><h4 class="type">macro</h4><div class="usage"><code>(unary-operator varname &amp; code)</code></div><div class="doc"><div class="markdown"><p>Create an implementation of java.util.function.UnaryOperator</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L2762">view source</a></div></div><div class="public anchor" id="var-union"><h3>union</h3><div class="usage"><code>(union s1 s2)</code></div><div class="doc"><div class="markdown"><p>Union of two sets or two maps.  When two maps are provided the right hand side
wins in the case of an intersection.</p>
<p>Result is either a set or a map, depending on if s1 is a set or map.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1017">view source</a></div></div><div class="public anchor" id="var-union-reduce-java-hashmap"><h3>union-reduce-java-hashmap</h3><div class="usage"><code>(union-reduce-java-hashmap bfn maps options)</code><code>(union-reduce-java-hashmap bfn maps)</code></div><div class="doc"><div class="markdown"><p>Do an efficient union of many maps into a single java.util.HashMap.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1050">view source</a></div></div><div class="public anchor" id="var-union-reduce-maps"><h3>union-reduce-maps</h3><div class="usage"><code>(union-reduce-maps bfn maps)</code></div><div class="doc"><div class="markdown"><p>Do an efficient union reduction across many maps using bfn to update values.  See
documentation for <a href="map-union">map-union</a>.  If any of the input maps are not implementations provided
by this library this falls backs to <code>(reduce (partial union-maps bfn) maps)</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1039">view source</a></div></div><div class="public anchor" id="var-update"><h3>update</h3><div class="usage"><code>(update m k f)</code><code>(update m k f x)</code><code>(update m k f x y)</code><code>(update m k f x y z)</code><code>(update m k f x y z &amp; more)</code></div><div class="doc"><div class="markdown"><p>Version of update that produces maps from this library.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1563">view source</a></div></div><div class="public anchor" id="var-update-in"><h3>update-in</h3><h4 class="type">macro</h4><div class="usage"><code>(update-in m ks f &amp; args)</code></div><div class="doc"><div class="markdown"><p>An attempt at a slightly more efficient version of update-in.</p>
<p>See the caveats in the readme - measure carefully before using this.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1595">view source</a></div></div><div class="public anchor" id="var-update-values"><h3>update-values</h3><div class="usage"><code>(update-values map bfn)</code></div><div class="doc"><div class="markdown"><p>Immutably update all values in the map returning a new map.  bfn takes 2 arguments,
k,v and returns a new v. Returns new persistent map.
If passed a vector, k is the index and v is the value.  Will return a new vector.
else map is assumed to be convertible to a sequence and this pathway works the same
as map-indexed.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1138">view source</a></div></div><div class="public anchor" id="var-upgroups"><h3>upgroups</h3><div class="usage"><code>(upgroups n-elems body-fn options)</code><code>(upgroups n-elems body-fn)</code></div><div class="doc"><div class="markdown"><p>Run y groups across n-elems.   Y is common pool parallelism.</p>
<p>body-fn gets passed two longs, startidx and endidx.</p>
<p>Returns a sequence of the results of body-fn applied to each group of indexes.</p>
<p>Before using this primitive please see if <a href="ham-fisted.api.html#var-preduce">preduce</a> will work.</p>
<p>Options:</p>
<ul>
<li><code>:pgroup-min</code> - when provided n-elems must be more than this value for the computation
to be parallelized.</li>
<li><code>:batch-size</code> - max batch size.  Defaults to 64000.</li>
</ul>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1218">view source</a></div></div><div class="public anchor" id="var-upmap"><h3>upmap</h3><div class="usage"><code>(upmap map-fn &amp; sequences)</code></div><div class="doc"><div class="markdown"><p>Unordered pmap using the commonPool.  This is useful for interacting with other
primitives, namely <a href="ham-fisted.api.html#var-pgroups">pgroups</a> which are also based on this pool.</p>
<p>Before using this primitive please see if <a href="ham-fisted.api.html#var-preduce">preduce</a> will work.</p>
<p>Like pmap this uses the commonPool so it composes with this api's pmap, pgroups, and
dtype-next's parallelism primitives <em>but</em> it does not impose an ordering constraint on the
results and thus may be significantly faster in some cases.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1251">view source</a></div></div><div class="public anchor" id="var-vals"><h3>vals</h3><div class="usage"><code>(vals m)</code></div><div class="doc"><div class="markdown"><p>Return the values of a map.  This version allows parallel reduction operations on
the returned sequence.  Returned sequence is in same order as <code>(keys m)</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L956">view source</a></div></div><div class="public anchor" id="var-vec"><h3>vec</h3><div class="usage"><code>(vec data)</code><code>(vec)</code></div><div class="doc"><div class="markdown"><p>Produce a persistent vector.  Optimized pathways exist for object arrays and
java List implementations.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1758">view source</a></div></div><div class="public anchor" id="var-vector"><h3>vector</h3><div class="usage"><code>(vector)</code><code>(vector a)</code><code>(vector a b)</code><code>(vector a b c)</code><code>(vector a b c d)</code><code>(vector a b c d e)</code><code>(vector a b c d e f)</code><code>(vector a b c d e f g)</code><code>(vector a b c d e f g h)</code><code>(vector a b c d e f g h i)</code><code>(vector a b c d e f g h i j)</code><code>(vector a b c d e f g h i j k)</code><code>(vector a b c d e f g h i j k &amp; args)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/api.clj#L1770">view source</a></div></div></div></body></html>