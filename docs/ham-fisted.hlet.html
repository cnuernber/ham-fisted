<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>ham-fisted.hlet documentation</title><script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-XJYNJF48RM"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XJYNJF48RM');</script><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Ham-Fisted</span> <span class="project-version">2.029</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="Reductions.html"><div class="inner"><span>Reductions</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ham-fisted</span></div></div></li><li class="depth-2 branch"><a href="ham-fisted.api.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>api</span></div></a></li><li class="depth-2 branch"><a href="ham-fisted.bloom-filter.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bloom-filter</span></div></a></li><li class="depth-2 branch"><a href="ham-fisted.function.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>function</span></div></a></li><li class="depth-2 branch current"><a href="ham-fisted.hlet.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>hlet</span></div></a></li><li class="depth-2 branch"><a href="ham-fisted.lazy-noncaching.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lazy-noncaching</span></div></a></li><li class="depth-2 branch"><a href="ham-fisted.mut-map.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mut-map</span></div></a></li><li class="depth-2 branch"><a href="ham-fisted.primitive-invoke.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>primitive-invoke</span></div></a></li><li class="depth-2 branch"><a href="ham-fisted.protocols.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocols</span></div></a></li><li class="depth-2 branch"><a href="ham-fisted.reduce.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>reduce</span></div></a></li><li class="depth-2"><a href="ham-fisted.set.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>set</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="ham-fisted.hlet.html#var-extend-let"><div class="inner"><span>extend-let</span></div></a></li><li class="depth-1"><a href="ham-fisted.hlet.html#var-let"><div class="inner"><span>let</span></div></a></li><li class="depth-1"><a href="ham-fisted.hlet.html#var-let-extension-names"><div class="inner"><span>let-extension-names</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">ham-fisted.hlet</h1><div class="doc"><div class="markdown"><p>Extensible let to allow efficient typed destructuring.</p>
<p>Registered Extensions:</p>
<p><code>dbls</code> and <code>lngs</code> will most efficiently destructure java primitive arrays and fall back to casting the result
of clojure.lang.RT/nth if input is not a double or long array.</p>
<p><code>dlb-fns</code> and <code>lng-fns</code> call the object's IFn interface with no interface checking.  This will <em>not</em> work
with a raw array but is the fastest way - faster than RT/nth - to get data out of a persistent-vector or map
like object.</p>
<p><code>obj-fns</code> - fast IFn-based destructuring to objects - does not work with object arrays.  Often much faster
than RT/nth.</p>
<p>This can significantly reduce boxing in tight loops without needing to result in really verbose pathways.</p>
<pre><code class="language-clojure">user&gt; (h/let [[a b] (dbls [1 2])] (+ a b))
  3.0
user&gt; (hamf/sum-fast (lznc/cartesian-map
                      #(h/let [[a b c d](lng-fns %)]
                         (-&gt; (+ a b) (+ c) (+ d)))
                      [1 2 3]
                      [4 5 6]
                      [7 8 9]
                      [10 11 12 13 14]))
3645.0
</code></pre>
<p>See also <a href="ham-fisted.primitive-invoke.html">ham-fisted.primitive-invoke</a>, <a href="ham-fisted.api.html#var-dnth">ham-fisted.api/dnth</a> <a href="ham-fisted.api.html#var-lnth">ham-fisted.api/lnth</a>.</p>
</div></div><div class="public anchor" id="var-extend-let"><h3>extend-let</h3><div class="usage"><code>(extend-let sym-name code)</code></div><div class="doc"><div class="markdown"><p>Code gets a tuple of <a href="lhs rhs">lhs rhs</a> must return
a flattened sequence of left and right hand sides.
This uses a special symbol that will look like a function call on the
right hand side as the dispatch mechanism.</p>
<p>See source code of this file for example extensions.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/hlet.clj#L43">view source</a></div></div><div class="public anchor" id="var-let"><h3>let</h3><h4 class="type">macro</h4><div class="usage"><code>(let bindings &amp; body)</code></div><div class="doc"><div class="markdown"><p>Extensible let intended to allow typed destructuring of arbitrary datatypes such as primitive arrays
or point types.  Falls back to normal let after extension process.  Several extensions are registered by default -</p>
<ul>
<li><code>dbls</code> and <code>lngs</code> which destructure into primitive doubles and primitive longs, respectively.</li>
<li><code>dlb-fns</code> and <code>lng-fns</code> which destructure into primitive doubls and longs but use the often faster IFn overloads
to get the data - avoiding RT.nth calls.</li>
<li><code>obj-fns</code> which destructure into objects using the IFn interface.</li>
</ul>
<pre><code class="language-clojure">user&gt; (h/let [[x y] (dbls (hamf/double-array [1 2]))]
        (+ x y))
3.0
</code></pre>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/hlet.clj#L92">view source</a></div></div><div class="public anchor" id="var-let-extension-names"><h3>let-extension-names</h3><div class="usage"><code>(let-extension-names)</code></div><div class="doc"><div class="markdown"><p>Return the current extension names.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/hlet.clj#L161">view source</a></div></div></div></body></html>