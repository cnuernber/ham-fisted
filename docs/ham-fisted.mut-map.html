<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>ham-fisted.mut-map documentation</title><script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-XJYNJF48RM"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XJYNJF48RM');</script><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Ham-Fisted</span> <span class="project-version">2.034</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="Reductions.html"><div class="inner"><span>Reductions</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ham-fisted</span></div></div></li><li class="depth-2 branch"><a href="ham-fisted.api.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>api</span></div></a></li><li class="depth-2 branch"><a href="ham-fisted.bloom-filter.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bloom-filter</span></div></a></li><li class="depth-2 branch"><a href="ham-fisted.function.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>function</span></div></a></li><li class="depth-2 branch"><a href="ham-fisted.hlet.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>hlet</span></div></a></li><li class="depth-2 branch"><a href="ham-fisted.lazy-noncaching.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lazy-noncaching</span></div></a></li><li class="depth-2 branch current"><a href="ham-fisted.mut-map.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mut-map</span></div></a></li><li class="depth-2 branch"><a href="ham-fisted.primitive-invoke.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>primitive-invoke</span></div></a></li><li class="depth-2 branch"><a href="ham-fisted.protocols.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocols</span></div></a></li><li class="depth-2 branch"><a href="ham-fisted.reduce.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>reduce</span></div></a></li><li class="depth-2"><a href="ham-fisted.set.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>set</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="ham-fisted.mut-map.html#var-compute.21"><div class="inner"><span>compute!</span></div></a></li><li class="depth-1"><a href="ham-fisted.mut-map.html#var-compute-if-absent.21"><div class="inner"><span>compute-if-absent!</span></div></a></li><li class="depth-1"><a href="ham-fisted.mut-map.html#var-compute-if-present.21"><div class="inner"><span>compute-if-present!</span></div></a></li><li class="depth-1"><a href="ham-fisted.mut-map.html#var-keyset"><div class="inner"><span>keyset</span></div></a></li><li class="depth-1"><a href="ham-fisted.mut-map.html#var-values"><div class="inner"><span>values</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">ham-fisted.mut-map</h1><div class="doc"><div class="markdown"><p>Functions for working with java's mutable map interface</p>
</div></div><div class="public anchor" id="var-compute.21"><h3>compute!</h3><div class="usage"><code>(compute! m k bfn)</code></div><div class="doc"><div class="markdown"><p>Compute a new value in a map derived from an existing value.  bfn gets passed k, v where k
may be nil.  If the function returns nil the corresponding key is removed from the map.</p>
<p>See <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#compute-K-java.util.function.BiFunction-">Map.compute</a></p>
<p>An example <code>bfn</code> for counting occurrences would be <code>#(if % (inc (long %)) 1)</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/mut_map.clj#L7">view source</a></div></div><div class="public anchor" id="var-compute-if-absent.21"><h3>compute-if-absent!</h3><div class="usage"><code>(compute-if-absent! m k bfn)</code></div><div class="doc"><div class="markdown"><p>Compute a value if absent from the map.  Useful for memoize-type operations.  Must use
mutable maps.  bfn gets passed k.</p>
<p>See <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-">map.computeIfAbsent</a></p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/mut_map.clj#L27">view source</a></div></div><div class="public anchor" id="var-compute-if-present.21"><h3>compute-if-present!</h3><div class="usage"><code>(compute-if-present! m k bfn)</code></div><div class="doc"><div class="markdown"><p>Compute a new value if the value already exists and is non-nil in the hashmap.  Must use
mutable maps.  bfn gets passed k, v where v is non-nil.</p>
<p>See <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfPresent-K-java.util.function.BiFunction-">Map.computeIfPresent</a></p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/mut_map.clj#L18">view source</a></div></div><div class="public anchor" id="var-keyset"><h3>keyset</h3><div class="usage"><code>(keyset m)</code></div><div class="doc"><div class="markdown"><p>Return the keyset of the map.  This may not be in the same order as (keys m) or (vals
m).  For hamf maps, this has the same ordering as (keys m).  For both hamf and java
hashmaps, the returned implementation of java.util.Set has both more utility and better
performance than (keys m).</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/mut_map.clj#L36">view source</a></div></div><div class="public anchor" id="var-values"><h3>values</h3><div class="usage"><code>(values m)</code></div><div class="doc"><div class="markdown"><p>Return the values collection of the map.  This may not be in the same order as (keys m)
or (vals m).  For hamf hashmaps, this does have the same order as (vals m).</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/ham-fisted/blob/master/src/ham_fisted/mut_map.clj#L44">view source</a></div></div></div></body></html>